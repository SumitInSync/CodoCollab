/* --- THEME DEFINITIONS --- */
.theme-wrapper[data-theme="dark"] {
  --background: #0F172A;
  --surface-1: #1E2B3B;
  --surface-2: #334155;
  --primary: #3B82F6;
  --primary-hover: #2563EB;
  --text-primary: #F1F5F9;
  --text-secondary: #64748B;
  --border-color: #334155;
  --green: #10B981;
  --active-green: #22C55E;
  --shadow-rgb: 0, 0, 0;
}

.theme-wrapper[data-theme="light"] {
  --background: #F8FAFC;
  --surface-1: #FFFFFF;
  --surface-2: #F1F5F9;
  --primary: #3B82F6;
  --primary-hover: #2563EB;
  --text-primary: #0F172A;
  --text-secondary: #64748B;
  --border-color: #E2E8F0;
  --green: #059669;
  --active-green: #16A34A;
  --shadow-rgb: 100, 116, 139;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  /* Add transitions for smooth theme changes */
  transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
}

body, html, #root {
  height: 100%;
  overflow: hidden;
}

.theme-wrapper {
  height: 100%;
  font-family: 'Inter', sans-serif;
  background-color: var(--background);
  color: var(--text-primary);
  font-size: 14px;
  user-select: none;
}

/* --- Join Page Styles --- */
.join-container {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  background-color: var(--background);
}
.join-form {
  background-color: var(--surface-1);
  padding: 2rem 2.5rem;
  border-radius: 12px;
  border: 1px solid var(--border-color);
  width: 100%;
  max-width: 400px;
  box-shadow: 0 4px 12px rgba(var(--shadow-rgb), 0.1);
}
.join-header {
  display: flex; align-items: center; justify-content: center;
  gap: 0.75rem; margin-bottom: 2rem;
}
.join-header svg { color: var(--primary); }
.join-header h1 { font-size: 1.75rem; color: var(--text-primary); }
.join-form input {
  width: 100%; padding: 0.75rem 1rem; margin-bottom: 1rem;
  background-color: var(--background);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  color: var(--text-primary);
  font-size: 1rem; outline: none;
}
.join-form input::placeholder { color: var(--text-secondary); }
.join-form input:focus { border-color: var(--primary); }
.join-buttons { display: flex; gap: 1rem; margin-top: 1.5rem; }

/* --- Main App Layout --- */
.app-container { display: flex; flex-direction: column; height: 100%; }
.main-content { display: flex; flex: 1; overflow: hidden; }

/* --- Navbar --- */
.navbar {
  position: relative; /* Needed for absolute positioning of child */
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.75rem 1.5rem;
  background-color: var(--surface-1);
  border-bottom: 1px solid var(--border-color);
  flex-shrink: 0;
}
.nav-left, .nav-right { display: flex; align-items: center; gap: 1.25rem; }
.nav-left h1 { font-size: 1.25rem; font-weight: 600; color: var(--text-primary); }
.nav-select { background-color: var(--surface-2); color: var(--text-primary); border: 1px solid var(--border-color); border-radius: 6px; padding: 0.4rem 0.8rem; font-size: 0.9rem; outline: none; }

/* Editor Controls for Language Selector */
.editor-controls {
  position: absolute;
  left: 276px; /* Sidebar width (260px) + padding (16px) */
  top: 50%;
  transform: translateY(-50%);
  z-index: 10;
}

/* User Profile & Avatar Styles */
.user-profile, .user-avatar { position: relative; }
.user-profile { width: 36px; height: 36px; }
.user-avatar { width: 32px; height: 32px; flex-shrink: 0; }
.user-profile img, .user-avatar img { width: 100%; height: 100%; border-radius: 50%; background-color: var(--surface-2); }
.active-indicator { position: absolute; bottom: 0; right: 0; width: 10px; height: 10px; background-color: var(--active-green); border-radius: 50%; border: 2px solid var(--surface-1); }

/* Sidebar */
.sidebar { width: 260px; background-color: var(--surface-1); border-right: 1px solid var(--border-color); padding: 1.5rem; display: flex; flex-direction: column; flex-shrink: 0; }
.sidebar-header { margin-bottom: 1rem; }
.sidebar-header h3 { font-size: 1rem; font-weight: 600; margin-bottom: 0.5rem; color: var(--text-primary); }
.typing-indicator { color: var(--text-secondary); font-style: italic; min-height: 18px; font-size: 0.8rem; }
.active-users-list { list-style: none; flex: 1; overflow-y: auto; }
.user-item { display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem 0; font-weight: 500; color: var(--text-primary); }
.invite-btn { width: 100%; margin-top: 1rem; }
.sidebar-search { position: relative; margin-bottom: 1.5rem; }
.sidebar-search svg { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: var(--text-secondary); pointer-events: none; }
.sidebar-search input { width: 100%; padding: 0.6rem 0.8rem 0.6rem 2.5rem; background-color: var(--background); border: 1px solid var(--border-color); border-radius: 8px; font-size: 0.9rem; outline: none; color: var(--text-primary); }
.sidebar-search input:focus { border-color: var(--primary); }

/* Editor & IO Panel */
.editor-panel { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
.editor-wrapper { flex-grow: 1; min-height: 0; }
.io-panel { flex-shrink: 0; display: flex; flex-direction: column; background-color: var(--background); }
.resizer { height: 6px; background-color: var(--border-color); cursor: row-resize; flex-shrink: 0; }
.resizer:hover { background-color: var(--primary); }
.io-tabs { display: flex; border-bottom: 1px solid var(--border-color); flex-shrink: 0; background-color: var(--surface-1); }
.io-tabs button { padding: 0.75rem 1.25rem; background: none; border: none; color: var(--text-secondary); cursor: pointer; font-size: 0.9rem; position: relative; outline: none; }
.io-tabs button.active { color: var(--text-primary); }
.io-tabs button.active::after { content: ''; position: absolute; bottom: -1px; left: 0; right: 0; height: 2px; background-color: var(--primary); }
.io-content { flex: 1; padding: 0.5rem; min-height: 0; }
.io-textarea { width: 100%; height: 100%; background-color: transparent; border: none; color: var(--text-primary); resize: none; font-family: 'Menlo', 'Monaco', 'Courier New', monospace; font-size: 0.9rem; padding: 0.5rem; outline: none; }
.output-area { color: var(--green); }

/* General Components */
.btn { padding: 0.6rem 1.2rem; border: none; border-radius: 8px; font-size: 0.9rem; font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 0.5rem; }
.btn-primary { background-color: var(--primary); color: white; }
.btn-primary:hover { background-color: var(--primary-hover); }
.btn-secondary { background-color: var(--surface-2); color: var(--text-primary); }
.btn-secondary:hover { background-color: var(--border-color); }
.btn:disabled { opacity: 0.5; cursor: not-allowed; }
.btn-run { padding: 0.6rem 1.5rem; }

/* Modal Styles */
.modal-overlay { position: fixed; inset: 0; background-color: rgba(0, 0, 0, 0.5); display: flex; justify-content: center; align-items: center; z-index: 100; }
.modal { background-color: var(--surface-1); padding: 1.5rem 2rem; border-radius: 12px; border: 1px solid var(--border-color); width: 90%; max-width: 500px; box-shadow: 0 4px 12px rgba(var(--shadow-rgb), 0.1); }
.modal h2 { font-size: 1.25rem; margin-bottom: 0.5rem; color: var(--text-primary); }
.modal p { color: var(--text-secondary); margin-bottom: 1.5rem; }
.modal-content { display: flex; gap: 0.75rem; margin-bottom: 1.5rem; }
.modal-content input { flex: 1; padding: 0.6rem 0.8rem; border-radius: 8px; font-size: 1rem; color: var(--text-primary); background-color: var(--background); border: 1px solid var(--border-color); }
.modal-actions { display: flex; justify-content: flex-end; }
.modal-content-scrollable { max-height: 60vh; overflow-y: auto; padding: 1rem; border-radius: 8px; color: var(--text-secondary); white-space: pre-wrap; background-color: var(--background); border: 1px solid var(--border-color); }

/* Simple Scrollbar */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: var(--surface-1); }
::-webkit-scrollbar-thumb { background: var(--surface-2); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: #475569; }

